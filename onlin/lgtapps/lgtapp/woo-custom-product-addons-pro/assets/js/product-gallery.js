(()=>{wp&&wp.hooks&&wp.hooks.addFilter("wcpa_product_gallery_updated","wcpa",(function(r,i,c){return!!r||function(r,i){if(!window.jQuery)return!1;var c=jQuery(r),s=t(c,i);return!!s||!!(s=a(c,i))||!!(s=e(c,i))}(i,c)}),99);var t=function(t,a){var e=t.closest(".product").find(".images").find(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder").eq(0).find(".wp-post-image");if(e&&0==e.length||"function"!=typeof t.wc_variations_image_update)return!1;if(0==a)return 1!=t.data("wcpa_product_image")||(t.wc_variations_image_update(!1),t.data("wcpa_product_image",!1),t.find(".variations select").trigger("change"),!0);var r=a,i={image:r};return jQuery.extend(i,{image:r}),null!=r.image_id&&jQuery.extend(i,{image_id:r.image_id}),"function"==typeof t.wc_variations_image_update&&(t.wc_variations_image_update(i),t.data("wcpa_product_image",!0),!0)},a=function(t,a){var e=t.closest(".product, .product-col"),r=e.find(".product-image-slider"),i=e.find(".product-thumbs-slider"),c=r.data("owl.carousel"),s=i.data("owl.carousel"),_=!1;if(c){var o=r.data("links");if(0==a){if(r.data("wcpa")){r.trigger("remove.owl.carousel",[0]),r.data("wcpa",!1);var d=r.data("links-original");r.data("links",d)}}else{r.data("wcpa")&&r.trigger("remove.owl.carousel",[0]);var n='<div class="img-thumbnail">\n                            <div class="inner">\n                                <img \n                                height="'.concat(a.src_h,'" \n                                width="').concat(a.src_w,'" \n                                sizes="').concat(a.sizes,'" \n                             \n                                data-caption="').concat(a.caption,'" \n                                title="').concat(a.title,'" \n                                src="').concat(a.src,'"\n                                 \n                                 />\n                           </div> \n                        </div>');r.trigger("add.owl.carousel",[n,0]),r.data("wcpa",!0),r.data("links-original",o),o&&Array.isArray(o)&&o.splice(0,0,{src:a.src,title:""}),r.data("links",o)}r.trigger("refresh.owl.carousel"),_=!0}return s&&(0==a?i.data("wcpa")&&(i.trigger("remove.owl.carousel",[0]),i.data("wcpa",!1)):(i.data("wcpa")&&i.trigger("remove.owl.carousel",[0]),i.trigger("add.owl.carousel",['<div class="img-thumbnail"><img src="'+a.src+'" /></div>',0]),i.data("wcpa",!0)),i.trigger("refresh.owl.carousel"),_=!0),_},e=function(t,a){jQuery.fn.wcpa_set_attr=function(t,a){void 0===this.attr("data-o_"+t)&&this.attr("data-o_"+t,this.attr(t)?this.attr(t):""),!1===a||void 0===a?this.removeAttr(t):this.attr(t,a)},jQuery.fn.wcpa_reset_attr=function(t){void 0!==this.attr("data-o_"+t)&&this.attr(t,this.attr("data-o_"+t))};var e=t.closest(".product"),r=e.find(".images"),i=e.find(".flex-control-nav"),c=i.find("li:eq(0) img");0==i.length&&(c=e.find(".thumbnail-item:eq(0) img"));var s=e.find([".woocommerce-product-gallery__image",".woocommerce-product-gallery__image--placeholder",".product-gallery"].join(",")).eq(0),_=s.find(".wp-post-image,a img").first(),o=s.find("a").eq(0);return 0!=_.length&&(a?(_.wcpa_set_attr("src",a.src),_.wcpa_set_attr("height",a.src_h),_.wcpa_set_attr("width",a.src_w),_.wcpa_set_attr("srcset",a.srcset),_.wcpa_set_attr("sizes",a.sizes),_.wcpa_set_attr("title",a.title),_.wcpa_set_attr("data-caption",a.caption),_.wcpa_set_attr("alt",a.alt),_.wcpa_set_attr("data-src",a.full_src),_.wcpa_set_attr("data-large_image",a.full_src),_.wcpa_set_attr("data-large_image_width",a.full_src_w),_.wcpa_set_attr("data-large_image_height",a.full_src_h),s.wcpa_set_attr("data-thumb",a.src),c.wcpa_set_attr("src",a.gallery_thumbnail_src),o.wcpa_set_attr("href",a.full_src)):(_.wcpa_reset_attr("src"),_.wcpa_reset_attr("height"),_.wcpa_reset_attr("width"),_.wcpa_reset_attr("srcset"),_.wcpa_reset_attr("sizes"),_.wcpa_reset_attr("title"),_.wcpa_reset_attr("data-caption"),_.wcpa_reset_attr("alt"),_.wcpa_reset_attr("data-src"),_.wcpa_reset_attr("data-large_image"),_.wcpa_reset_attr("data-large_image_width"),_.wcpa_reset_attr("data-large_image_height"),s.wcpa_reset_attr("data-thumb"),c.wcpa_reset_attr("src"),o.wcpa_reset_attr("href")),window.setTimeout((function(){jQuery(window).trigger("resize"),r.trigger("woocommerce_gallery_init_zoom");var t=e.find(".product-images .image-item");if(jQuery().easyZoom){var a=t.easyZoom().data("easyZoom");a.teardown(),a._init()}}),20),!0)}})();